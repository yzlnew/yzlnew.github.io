<!DOCTYPE html>
<html lang="zh-CN">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="Yellow Stone">
<meta name="description" content="昨天想要清空一个文件夹结果犯了所有「小白」都会犯的错误。rm -rf
rm -rf / 然后还手贱按了回车。
当我看到一大堆 Permission denied 反应了 3 秒终于意识到有点不太对，赶紧 ctrl&#43;c 。表情如下
执行之后的情况分析 我的应用们应该还没有或者并不能察觉发生了什么，一切正常。但是 zsh 已经告诉我它找不到指令了，好的我来 vim 一下 zshrc。嗯，它理所当然地去世了。
冷静下来，我想我没用 sudo 那主体上还是没啥大碍的，估计这几秒钟把软链接全删掉了。果然 brew 也已经失效了。
装回 homebrew 并重装软件 幸好自己有一个备份的习惯，一直都用 brew bundle 备份了几乎所有软件，形成一个 Brewfile
 brew 安装的包、库之类的 cask 几乎所有的软件应用，只要有的我都会用 homebrew cask 安装，另外包括一些字体 mas 在 Mac App Store 安装的软件  这次的问题首先是用 brew link 把软链接重新建立，然后虽然没有影响到软件的使用，但是要重装 cask list 没有的软件（因为它不支持链接已经存在的应用）。
以上大概花了我一天，因为要避免走流量，都是通过 IPv6 的代理下载的。
不能重启 有点想得太简单了，安装之后风扇狂转并且不能重启，强制关键之后会进入重设密码的界面，所以意识到还是得重装系统。
但是让我整个抹盘重装我是肯定不接受的……所以打算同版本覆盖升级。🍎并不提供完整的 10.14.2 版本系统的下载链接，通过 App Store 下载担心下到一半前功尽弃也不能保存。
找到一个叫 macOS Mojave Patcher Tool 可以提供完整镜像的下载。">

<meta property="og:title" content="记一次 rm -rf 之后" />
<meta property="og:description" content="昨天想要清空一个文件夹结果犯了所有「小白」都会犯的错误。rm -rf
rm -rf / 然后还手贱按了回车。
当我看到一大堆 Permission denied 反应了 3 秒终于意识到有点不太对，赶紧 ctrl&#43;c 。表情如下
执行之后的情况分析 我的应用们应该还没有或者并不能察觉发生了什么，一切正常。但是 zsh 已经告诉我它找不到指令了，好的我来 vim 一下 zshrc。嗯，它理所当然地去世了。
冷静下来，我想我没用 sudo 那主体上还是没啥大碍的，估计这几秒钟把软链接全删掉了。果然 brew 也已经失效了。
装回 homebrew 并重装软件 幸好自己有一个备份的习惯，一直都用 brew bundle 备份了几乎所有软件，形成一个 Brewfile
 brew 安装的包、库之类的 cask 几乎所有的软件应用，只要有的我都会用 homebrew cask 安装，另外包括一些字体 mas 在 Mac App Store 安装的软件  这次的问题首先是用 brew link 把软链接重新建立，然后虽然没有影响到软件的使用，但是要重装 cask list 没有的软件（因为它不支持链接已经存在的应用）。
以上大概花了我一天，因为要避免走流量，都是通过 IPv6 的代理下载的。
不能重启 有点想得太简单了，安装之后风扇狂转并且不能重启，强制关键之后会进入重设密码的界面，所以意识到还是得重装系统。
但是让我整个抹盘重装我是肯定不接受的……所以打算同版本覆盖升级。🍎并不提供完整的 10.14.2 版本系统的下载链接，通过 App Store 下载担心下到一半前功尽弃也不能保存。
找到一个叫 macOS Mojave Patcher Tool 可以提供完整镜像的下载。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yzlnew.github.io/blog/2019-01-06-rm/" />
<meta property="article:published_time" content="2019-01-06T19:31:49&#43;08:00"/>
<meta property="article:modified_time" content="2019-01-06T19:31:49&#43;08:00"/>


<title>


     记一次 rm -rf 之后 

</title>
<link rel="canonical" href="https://yzlnew.github.io/blog/2019-01-06-rm/">










<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    
    <link rel="stylesheet" href="https://yzlnew.github.io/css/reset.css?t=2019-07-09%2018%3a31%3a27.523312%20%2b0800%20CST%20m%3d%2b0.080712604">
    <link rel="stylesheet" href="https://yzlnew.github.io/css/pygments.css?t=2019-07-09%2018%3a31%3a27.523312%20%2b0800%20CST%20m%3d%2b0.080712604">
    <link rel="stylesheet" href="https://yzlnew.github.io/css/main.css?t=2019-07-09%2018%3a31%3a27.523312%20%2b0800%20CST%20m%3d%2b0.080712604">
    
        <link rel="stylesheet" href="https://yzlnew.github.io/css/override.css?t=2019-07-09%2018%3a31%3a27.523312%20%2b0800%20CST%20m%3d%2b0.080712604">
    




<link rel="shortcut icon"

    href="https://yzlnew.github.io/img/favicon.ico"

>





</head>


<body lang="cn">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                
                <a href="https://yzlnew.github.io/"><img class="avatar" src="https://yzlnew.github.io/img/penrose.webp" srcset="https://yzlnew.github.io/img/penrose.webp 1x"></a>
            
            <a href="https://yzlnew.github.io/"><div class="name">Yellow Stone</div></a>
            
              <h3 class="self-intro">A Place of My Own</h3>
            
            <nav>
                <ul>
                    
                        <li class="nav-blog"><a href="https://yzlnew.github.io/blog"><span>Blog</span></a></li>
                    
                        <li class="nav-life"><a href="https://yzlnew.github.io/life"><span>Life</span></a></li>
                    
                        <li class="nav-about"><a href="https://yzlnew.github.io/about"><span>About</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">
        
            <a href="//github.com/yzlnew" target="_blank" rel="noopener"><img class="icon" src="https://yzlnew.github.io/img/github.svg" alt="github" /></a>
        

        

        

	

        

        

        

        

        
            <a href="//t.me/r0brew" target="_blank" rel="noopener"><img class="icon" src="https://yzlnew.github.io/img/telegram.svg" alt="telegram" /></a>
        

        
            <a href="//instagram.com/yzlnew" target="_blank" rel="noopener"><img class="icon" src="https://yzlnew.github.io/img/instagram.svg" alt="instagram" /></a>
        

        

        

        
            <a href="mailto:yzlnew@gmail.com"><img class="icon" src="https://yzlnew.github.io/img/email.svg" alt="email" /></a>
        

        
        </div>
    </div>
</section>


<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    记一次 rm -rf 之后

</div>

                    <div class="initials"><a href="https://yzlnew.github.io/"></a></div>
                </div>
                <div class="meta">
                    
                    <div class="date" title='Sun Jan 6 2019 19:31:49 CST'>Jan 6, 2019</div>
                    
                    
		    <div class="reading-time"><div class="middot"></div>一分钟读完</div>
                    
                </div>
            </div>
            <div class="markdown">
                

<p>昨天想要清空一个文件夹结果犯了所有「小白」都会犯的错误。<code>rm -rf</code></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">rm -rf /</code></pre></div>
<p>然后还手贱按了回车。</p>

<p>当我看到一大堆 <code>Permission denied</code> 反应了 3 秒终于意识到有点不太对，赶紧 <code>ctrl+c</code> 。表情如下</p>

<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fyx3fveot0j306j05za9w.jpg" alt="ahh" /></p>

<h3 id="执行之后的情况分析">执行之后的情况分析</h3>

<p>我的应用们应该还没有或者并不能察觉发生了什么，一切正常。但是 <code>zsh</code> 已经告诉我它找不到指令了，好的我来 <code>vim</code> 一下 <code>zshrc</code>。嗯，它理所当然地去世了。</p>

<p>冷静下来，我想我没用 <code>sudo</code> 那主体上还是没啥大碍的，估计这几秒钟把软链接全删掉了。果然 <code>brew</code> 也已经失效了。</p>

<h3 id="装回-homebrew-并重装软件">装回 <code>homebrew</code> 并重装软件</h3>

<p>幸好自己有一个备份的习惯，一直都用 <code>brew bundle</code> 备份了几乎所有软件，形成一个 <a href="https://github.com/yzlnew/dotfiles/blob/master/Brewfile">Brewfile</a></p>

<ul>
<li><code>brew</code> 安装的包、库之类的</li>
<li><code>cask</code> 几乎所有的软件应用，只要有的我都会用 <code>homebrew cask</code> 安装，另外包括一些字体</li>
<li><code>mas</code> 在 Mac App Store 安装的软件</li>
</ul>

<p>这次的问题首先是用 <code>brew link</code> 把软链接重新建立，然后虽然没有影响到软件的使用，但是要重装 <code>cask list</code> 没有的软件（因为它不支持链接已经存在的应用）。</p>

<p>以上大概花了我一天，因为要避免走流量，都是通过 IPv6 的代理下载的。</p>

<h3 id="不能重启">不能重启</h3>

<p>有点想得太简单了，安装之后风扇狂转并且不能重启，强制关键之后会进入<strong>重设密码</strong>的界面，所以意识到还是得重装系统。</p>

<p>但是让我整个抹盘重装我是肯定不接受的……所以打算同版本覆盖升级。🍎并不提供完整的 <code>10.14.2</code> 版本系统的下载链接，通过 App Store 下载担心下到一半前功尽弃也不能保存。</p>

<p>找到一个叫 <a href="http://dosdude1.com/mojave/">macOS Mojave Patcher Tool</a> 可以提供完整镜像的下载。</p>

<p>下载花了我一天……</p>

<p>重装之后终于「一切正常」。</p>

<h3 id="这个故事告诉我们">这个故事告诉我们</h3>

<ul>
<li>为什么危险的命令这么容易执行！我再也不用 <code>rm -rf</code> 了。</li>
<li>要记得备份资料，起码有个列表。</li>
</ul>

                <br>
                
                <p class="back-to-posts"><a href="https://yzlnew.github.io/blog">回退</a></p>
            </div>
            <br>
            <div class="disqus">
                
            </div>
            
        </div>
    </div>
</section>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-61197619-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>









</body>
</html>

